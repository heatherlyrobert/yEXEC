#!/usr/local/bin/koios
#   koios-polos (axis of heaven) unit testing meta-language



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include public header                yEXEC.h                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include private header               yEXEC_priv.h                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include yENV header                  yENV.h                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SHARED   -a-  clear out signal logging                                            0s  rm              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  ((aa.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       setup directory                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((aa.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     ... clear the unit log               - - - - - - - - - - - - -   system ("rm -f /tmp/signal_unit.log");                                                                                                                                                                                     
     code     ... clear the unit log               - - - - - - - - - - - - -   system ("rm -f /tmp/signal_local.log");                                                                                                                                                                                    

#> xxxxxxxxxxxxxxxxxxxxxxxxxxxi\_[lllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllvypppppppppppppppppppp0lllllllllllllllllllllllllllllllllllllllllllllllllllllRyENV_peek          lllllllllllRYEXEC_UNIT €ý5n
#> xxxxxxxxxxxxxxxxxxxxxxxxxxxi\_[lllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllvypppppppppppppppppppp0190|rw0lllllllllllllllllllllllllllllllllllllllllllllllllllllRyENV_peek          lllllllllllRYEXEC_LOCAL€ý5n
#> xxxxxxxxxxxxxxxxxxxxxxxxxxxi\_[lllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllvypppppppppppppppppppp0190|rw0lllllllllllllllllllllllllllllllllllllllllllllllllllllRyENV_peek          lllllllllllRYEXEC_UNIT €ý5n
#> xxxxxxxxxxxxxxxxxxxxxxxxxxxi\_[lllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllvypppppppppppppppppppp0190|rw0lllllllllllllllllllllllllllllllllllllllllllllllllllllRyENV_peek          lllllllllllRYEXEC_LOCAL€ý5n

#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP  [··/·]  (SIGN) verify reaction to user/config signals                      10s  user            yEXEC_signal, yexec__comm                                                    ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yexec__unit_quiet                                                                                                                 i_equal     0                                                                                                    
     local    create working variable              - - - - - - - - - - - - -   int   x_rpid  = -1;                                                                                                                                                                                                        

   REUSE -a-  [ clear out signal logging ]                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       run a daemon normally                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     call the unit daemon                 - - - - - - - - - - - - -   system ("/usr/local/bin/unit_daemon --super");                                                                                                                                                                             
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    

   COND       SIGHUP the daemon                                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGHUP  );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 0                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGHUP  ( 1) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 0                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGHUP  ( 1) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGUSR1 user defined                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGUSR1 );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 1                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGUSR1 (10) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 1                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGUSR1 (10) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGHUP the daemon (check that it is enabled still)                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGHUP  );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 2                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGHUP  ( 1) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 2                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGHUP  ( 1) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGALRM internal alarm                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGALRM );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 3                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGALRM (14) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 3                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGALRM (14) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGUSR2 daemon (daemon ping)                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGUSR2 );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 4                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGUSR2 (12) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 4                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGUSR2 (12) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGALRM internal alarm                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGALRM );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 5                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGALRM (14) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 5                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGALRM (14) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGUSR1 user defined                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGUSR1 );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 6                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGUSR1 (10) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 6                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGUSR1 (10) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGKILL the daemon (un-detectable)                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGKILL );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     0                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_equal     -1                                                                                                   

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yexec__unit_end                                                                                                                   i_equal     0                                                                                                    

#> R\_[(n/a\_])\_]                                 hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhrwhhhhhhhhhhbhhhhhhhhhhhhhhhhhhhhhhhhhRYEXEC_UNIThhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhRyENV_peek         €ý5n
#> R\_[(n/a\_])\_]                                 hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhrwhhhhhhhhhhbhhhhhhhhhhhhhhhhhhhhhhhhhRYEXEC_LOCLAhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhRyENV_peek         €ý5n

#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP  [··/·]  (SIGN) verify reaction to job control signals                      15s  job             yEXEC_signal, yexec__comm                                                    ((02.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yexec__unit_quiet                                                                                                                 i_equal     0                                                                                                    
     local    create working variable              - - - - - - - - - - - - -   int   x_rpid  = -1;                                                                                                                                                                                                        

   REUSE -a-  [ clear out signal logging ]                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       run a daemon normally                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     call the unit daemon                 - - - - - - - - - - - - -   system ("/usr/local/bin/unit_daemon --interactive --super");                                                                                                                                                               
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 0                                                                            w_equal     å(not found)æ                                                                                              
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 0                                                                            w_equal     å(not found)æ                                                                                              

   COND       verify the ticker is working                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 0                                                                            w_equal     å(not found)æ                                                                                              
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 0                                                                            w_equal     å(not found)æ                                                                                              

   COND       verify the ticker is working                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 0                                                                            w_equal     å(not found)æ                                                                                              
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 0                                                                            w_equal     å(not found)æ                                                                                              

   COND       SIGSTOP the daemon (un-detectable pause)                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGSTOP );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 0                                                                            w_equal     å(not found)æ                                                                                              
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 0                                                                            w_equal     å(not found)æ                                                                                              

   COND       verify the daemon is paused                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 0                                                                            w_equal     å(not found)æ                                                                                              
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 0                                                                            w_equal     å(not found)æ                                                                                              

   COND       verify the daemon is paused                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 0                                                                            w_equal     å(not found)æ                                                                                              
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 0                                                                            w_equal     å(not found)æ                                                                                              

   COND       SIGCONT the daemon (detectable restart)                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGCONT );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 0                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGCONT (18) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 0                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGCONT (18) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   COND       verify the ticker is working                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    

   COND       verify the ticker is working                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    

   COND       SIGTSTP the daemon (detectable pause)                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGTSTP );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 1                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGTSTP (20) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 1                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGTSTP (20) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   COND       verify the daemon is paused                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.013))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    

   COND       verify the daemon is paused                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.014))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    

   COND       SIGCONT the daemon (detectable restart)                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.015))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGCONT );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 2                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGCONT (18) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 2                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGCONT (18) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGKILL the daemon (un-detectable)                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.016))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGKILL );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     0                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_equal     -1                                                                                                   

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.017))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yexec__unit_end                                                                                                                   i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP  [··/·]  (SIGN) verify reaction to termination signals                      15s  term            yEXEC_signal, yexec__comm                                                    ((03.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yexec__unit_quiet                                                                                                                 i_equal     0                                                                                                    
     local    create working variable              - - - - - - - - - - - - -   int   x_rpid  = -1;                                                                                                                                                                                                        

   REUSE -a-  [ clear out signal logging ]                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   GROUP      start with normal, non-bulletproof flags                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND  (1)  run a daemon normally (not bulletproof)                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     call the unit daemon                 - - - - - - - - - - - - -   system ("/usr/local/bin/unit_daemon --super --graceful");                                                                                                                                                                  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    

   COND       SIGTERM the daemon (unit daemon waits two seconds)                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGTERM );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (0.5);                                                                                                                                                                                                               
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 0                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGTERM (15) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 0                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGTERM (15) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   COND  (2)  verify it is gone                                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     0                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_equal     -1                                                                                                   

   DITTO (1)  [ run a daemon normally (not bulletproof) ]                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       SIGSEGV the process                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGSEGV );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     0                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_equal     -1                                                                                                   
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 1                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGSEGV (11) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 1                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGSEGV (11) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   DITTO (1)  [ run a daemon normally (not bulletproof) ]                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       SIGABRT the process                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGABRT );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     0                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_equal     -1                                                                                                   
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 2                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGABRT ( 6) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 2                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGABRT ( 6) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   GROUP      switch to bulletproof flags                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND  (3)  run a daemon normally (bulletproof)                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     call the unit daemon                 - - - - - - - - - - - - -   system ("/usr/local/bin/unit_daemon --bulletproof --super");                                                                                                                                                               
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    

   COND       SIGTERM the daemon                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGTERM );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 3                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGTERM (15) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 3                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGTERM (15) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   COND  (4)  verify it is still here                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    

   COND       SIGSEGV the process                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.013))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGSEGV );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 4                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGSEGV (11) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 4                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGSEGV (11) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGABRT the process                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.014))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGABRT );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 5                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGABRT ( 6) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 5                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGABRT ( 6) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGSEGV the process (to prove it resets)                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.015))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGSEGV );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 6                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGSEGV (11) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 6                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGSEGV (11) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGABRT the process (to prove it resets)                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.016))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGABRT );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 7                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGABRT ( 6) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 7                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGABRT ( 6) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGTERM the daemon (prove it restarts)                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.017))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGTERM );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yENV_peek                   YEXEC_UNIT             , 8                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGTERM (15) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yENV_peek                   YEXEC_LOCAL            , 8                                                                            w_equal     å¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGTERM (15) ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGKILL the daemon (un-detectable)                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.018))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGKILL );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     0                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_equal     -1                                                                                                   

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.019))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yexec__unit_end                                                                                                                   i_equal     0                                                                                                    



# end-of-file.  done, finito, completare, whimper [Ï´···
