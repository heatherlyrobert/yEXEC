#!/usr/local/bin/koios
#   koios-polos (north star) -- customized c unit testing meta-program and mini-language
#   program under test  : yEXEC_sign
#   auto-generated script file converted from a previous script version



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include public header                yEXEC.h                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include private header               yEXEC_priv.h                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SHARED        (A) clear out signal logging                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((AA.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       setup directory                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((AA.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     ... clear the unit log               - - - - - - - - - - - - -   system ("rm -f /tmp/signal_unit.log");                                                                                                                                                                                     
     code     ... clear the unit log               - - - - - - - - - - - - -   system ("rm -f /tmp/signal_local.log");                                                                                                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (SIGN) verify reaction to user/config signals                      yEXEC_signal, yexec__comm                                                                             ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yexec__unit_quiet                                                                                                                 i_equal     0                                                                                                    
     code     create working variable              - - - - - - - - - - - - -   int   x_rpid  = -1;                                                                                                                                                                                                        

   USE_SHARE  A  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       run a daemon normally                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     call the unit daemon                 - - - - - - - - - - - - -   system ("/usr/local/bin/unit_daemon --super");                                                                                                                                                                             
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    

   COND       SIGHUP the daemon                                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGHUP  );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 0                                                                            s_equal     SIGN unit   ( 0) :   1  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGHUP  ( 1) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 0                                                                            s_equal     SIGN local  ( 0) :   1  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGHUP  ( 1) ¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGUSR1 user defined                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGUSR1 );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 1                                                                            s_equal     SIGN unit   ( 1) :   2  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGUSR1 (10) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 1                                                                            s_equal     SIGN local  ( 1) :   2  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGUSR1 (10) ¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGHUP the daemon (check that it is enabled still)                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGHUP  );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 2                                                                            s_equal     SIGN unit   ( 2) :   3  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGHUP  ( 1) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 2                                                                            s_equal     SIGN local  ( 2) :   3  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGHUP  ( 1) ¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGALRM internal alarm                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGALRM );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 3                                                                            s_equal     SIGN unit   ( 3) :   4  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGALRM (14) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 3                                                                            s_equal     SIGN local  ( 3) :   4  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGALRM (14) ¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGUSR2 daemon (daemon ping)                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGUSR2 );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 4                                                                            s_equal     SIGN unit   ( 4) :   5  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGUSR2 (12) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 4                                                                            s_equal     SIGN local  ( 4) :   5  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGUSR2 (12) ¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGALRM internal alarm                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGALRM );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 5                                                                            s_equal     SIGN unit   ( 5) :   6  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGALRM (14) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 5                                                                            s_equal     SIGN local  ( 5) :   6  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGALRM (14) ¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGUSR1 user defined                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGUSR1 );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 6                                                                            s_equal     SIGN unit   ( 6) :   7  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGUSR1 (10) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 6                                                                            s_equal     SIGN local  ( 6) :   7  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGUSR1 (10) ¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGKILL the daemon (un-detectable)                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGKILL );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     0                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_equal     99999                                                                                                

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yexec__unit_end                                                                                                                   i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (SIGN) verify reaction to job control signals                      yEXEC_signal, yexec__comm                                                                             ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yexec__unit_quiet                                                                                                                 i_equal     0                                                                                                    
     code     create working variable              - - - - - - - - - - - - -   int   x_rpid  = -1;                                                                                                                                                                                                        

   USE_SHARE  A  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       run a daemon normally                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     call the unit daemon                 - - - - - - - - - - - - -   system ("/usr/local/bin/unit_daemon --interactive --super");                                                                                                                                                                             
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 0                                                                            s_equal     SIGN unit   ( 0) : -13   0[]                                                                         
     get      ... check the local log              yexec_sign__unit            "local"                , 0                                                                            s_equal     SIGN local  ( 0) : -13   0[]                                                                         

   COND       verify the ticker is working                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the ticker                 yexec_sign__unit            "ticker"               , 0                                                                            s_equal     SIGN ticker      :   1   2[..]                                                                       
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 0                                                                            s_equal     SIGN unit   ( 0) : -13   0[]                                                                         
     get      ... check the local log              yexec_sign__unit            "local"                , 0                                                                            s_equal     SIGN local  ( 0) : -13   0[]                                                                         

   COND       verify the ticker is working                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the ticker                 yexec_sign__unit            "ticker"               , 0                                                                            s_equal     SIGN ticker      :   1   3[...]                                                                      
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 0                                                                            s_equal     SIGN unit   ( 0) : -13   0[]                                                                         
     get      ... check the local log              yexec_sign__unit            "local"                , 0                                                                            s_equal     SIGN local  ( 0) : -13   0[]                                                                         

   COND       SIGSTOP the daemon (un-detectable pause)                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGSTOP );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the ticker                 yexec_sign__unit            "ticker"               , 0                                                                            s_equal     SIGN ticker      :   1   3[...]                                                                      
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 0                                                                            s_equal     SIGN unit   ( 0) : -13   0[]                                                                         
     get      ... check the local log              yexec_sign__unit            "local"                , 0                                                                            s_equal     SIGN local  ( 0) : -13   0[]                                                                         

   COND       verify the daemon is paused                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the ticker                 yexec_sign__unit            "ticker"               , 0                                                                            s_equal     SIGN ticker      :   1   3[...]                                                                      
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 0                                                                            s_equal     SIGN unit   ( 0) : -13   0[]                                                                         
     get      ... check the local log              yexec_sign__unit            "local"                , 0                                                                            s_equal     SIGN local  ( 0) : -13   0[]                                                                         

   COND       verify the daemon is paused                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the ticker                 yexec_sign__unit            "ticker"               , 0                                                                            s_equal     SIGN ticker      :   1   3[...]                                                                      
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 0                                                                            s_equal     SIGN unit   ( 0) : -13   0[]                                                                         
     get      ... check the local log              yexec_sign__unit            "local"                , 0                                                                            s_equal     SIGN local  ( 0) : -13   0[]                                                                         

   COND       SIGCONT the daemon (detectable restart)                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGCONT );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the ticker                 yexec_sign__unit            "ticker"               , 0                                                                            s_equal     SIGN ticker      :   1   5[.....]                                                                    
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 0                                                                            s_equal     SIGN unit   ( 0) :   1  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGCONT (18) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 0                                                                            s_equal     SIGN local  ( 0) :   1  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGCONT (18) ¬¬¬¬¬¬¬¬¬¬¬ 

   COND       verify the ticker is working                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the ticker                 yexec_sign__unit            "ticker"               , 0                                                                            s_equal     SIGN ticker      :   1   6[......]                                                                   

   COND       verify the ticker is working                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the ticker                 yexec_sign__unit            "ticker"               , 0                                                                            s_equal     SIGN ticker      :   1   7[.......]                                                                   

   COND       SIGTSTP the daemon (detectable pause)                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGTSTP );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the ticker                 yexec_sign__unit            "ticker"               , 0                                                                            s_equal     SIGN ticker      :   1   7[.......]                                                                   
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 1                                                                            s_equal     SIGN unit   ( 1) :   2  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGTSTP (20) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 1                                                                            s_equal     SIGN local  ( 1) :   2  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGTSTP (20) ¬¬¬¬¬¬¬¬¬¬¬ 

   COND       verify the daemon is paused                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the ticker                 yexec_sign__unit            "ticker"               , 0                                                                            s_equal     SIGN ticker      :   1   7[.......]                                                                   

   COND       verify the daemon is paused                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the ticker                 yexec_sign__unit            "ticker"               , 0                                                                            s_equal     SIGN ticker      :   1   7[.......]                                                                   

   COND       SIGCONT the daemon (detectable restart)                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGCONT );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the ticker                 yexec_sign__unit            "ticker"               , 0                                                                            s_equal     SIGN ticker      :   1   9[.........]                                                                  
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 2                                                                            s_equal     SIGN unit   ( 2) :   3  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGCONT (18) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 2                                                                            s_equal     SIGN local  ( 2) :   3  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGCONT (18) ¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGKILL the daemon (un-detectable)                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGKILL );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     0                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_equal     99999                                                                                                

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yexec__unit_end                                                                                                                   i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (SIGN) verify reaction to termination signals                      yEXEC_signal, yexec__comm                                                                             ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yexec__unit_quiet                                                                                                                 i_equal     0                                                                                                    
     code     create working variable              - - - - - - - - - - - - -   int   x_rpid  = -1;                                                                                                                                                                                                        

   USE_SHARE  A  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   GROUP      start with normal, non-bulletproof flags                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND (A)   run a daemon normally (not bulletproof)                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     call the unit daemon                 - - - - - - - - - - - - -   system ("/usr/local/bin/unit_daemon --super");                                                                                                                                                                             
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    

   COND       SIGTERM the daemon (unit daemon waits two seconds)                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGTERM );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 0                                                                            s_equal     SIGN unit   ( 0) :   1  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGTERM (15) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 0                                                                            s_equal     SIGN local  ( 0) :   1  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGTERM (15) ¬¬¬¬¬¬¬¬¬¬¬ 

   COND (B)   verify it is gone                                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     0                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_equal     99999                                                                                                

   DITTO (A)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       SIGSEGV the process                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGSEGV );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     0                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_equal     99999                                                                                                
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 1                                                                            s_equal     SIGN unit   ( 1) :   2  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGSEGV (11) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 1                                                                            s_equal     SIGN local  ( 1) :   2  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGSEGV (11) ¬¬¬¬¬¬¬¬¬¬¬ 

   DITTO (A)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       SIGABRT the process                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGABRT );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     0                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_equal     99999                                                                                                
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 2                                                                            s_equal     SIGN unit   ( 2) :   3  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGABRT ( 6) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 2                                                                            s_equal     SIGN local  ( 2) :   3  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGABRT ( 6) ¬¬¬¬¬¬¬¬¬¬¬ 

   GROUP      switch to bulletproof flags                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND (C)   run a daemon normally (bulletproof)                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     call the unit daemon                 - - - - - - - - - - - - -   system ("/usr/local/bin/unit_daemon --bulletproof --super");                                                                                                                                                               
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    

   COND       SIGTERM the daemon                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGTERM );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 3                                                                            s_equal     SIGN unit   ( 3) :   4  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGTERM (15) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 3                                                                            s_equal     SIGN local  ( 3) :   4  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGTERM (15) ¬¬¬¬¬¬¬¬¬¬¬ 

   COND (D)   verify it is still here                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0

   COND       SIGSEGV the process                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGSEGV );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 4                                                                            s_equal     SIGN unit   ( 4) :   5  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGSEGV (11) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 4                                                                            s_equal     SIGN local  ( 4) :   5  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGSEGV (11) ¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGABRT the process                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGABRT );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 5                                                                            s_equal     SIGN unit   ( 5) :   6  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGABRT ( 6) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 5                                                                            s_equal     SIGN local  ( 5) :   6  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGABRT ( 6) ¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGSEGV the process (to prove it resets)                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGSEGV );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 6                                                                            s_equal     SIGN unit   ( 6) :   7  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGSEGV (11) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 6                                                                            s_equal     SIGN local  ( 6) :   7  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGSEGV (11) ¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGABRT the process (to prove it resets)                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGABRT );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 7                                                                            s_equal     SIGN unit   ( 7) :   8  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGABRT ( 6) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 7                                                                            s_equal     SIGN local  ( 7) :   8  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGABRT ( 6) ¬¬¬¬¬¬¬¬¬¬¬ 

   COND       SIGTERM the daemon (prove it restarts)                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGTERM );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     1                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check the signal log             yexec_sign__unit            "unit"                 , 8                                                                            s_equal     SIGN unit   ( 8) :   9  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  yexec  SIGTERM (15) ¬¬¬¬¬¬¬¬¬¬¬ 
     get      ... check the local log              yexec_sign__unit            "local"                , 8                                                                            s_equal     SIGN local  ( 8) :   9  ¬¬[¬¬.¬¬.¬¬.¬¬.¬¬.¬¬.¬.¬¬.¬¬¬  ¬¬¬¬¬¬¬¬¬¬  ¬¬¬¬¬¬  local  SIGTERM (15) ¬¬¬¬¬¬¬¬¬¬¬ 

   DITTO (D)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       SIGKILL the daemon (un-detectable)                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     send a kill                          - - - - - - - - - - - - -   kill   (x_rpid, SIGKILL );                                                                                                                                                                                                 
     code     wait a second                        - - - - - - - - - - - - -   sleep (1);                                                                                                                                                                                                                 
     exec     check for existance                  yEXEC_find                  "unit_daemon"          , &x_rpid                                                                      i_equal     0                                                                                                    
     echo     ... check the pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_equal     99999                                                                                                

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yexec__unit_end                                                                                                                   i_equal     0                                                                                                    





# end-of-file
