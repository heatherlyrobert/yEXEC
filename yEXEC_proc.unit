#!/usr/local/bin/koios
#   koios-polos (axis of heaven) unit testing meta-language



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include public header                yEXEC.h                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include private header               yEXEC_priv.h                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (PROC) verify parsing command line arguments                        0s  args            yexec_arg                                                                    ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yexec__unit_quiet                                                                                                                 i_equal     0                                                                                                    

   COND       do a parse on a short argument                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/bin/sleep 3"                                                                                        i_equal     0                                                                                                    
     get      check the argument count             yexec_proc__unit            "argc"         , 0                                                                                    s_equal     PROC argc        : 2                                                                                 
     get      check the argument content           yexec_proc__unit            "argv"         , 0                                                                                    s_equal     PROC argv   ( 0) : 10[/bin/sleep]                                                                    
     get      check the argument content           yexec_proc__unit            "argv"         , 1                                                                                    s_equal     PROC argv   ( 1) :  1[3]                                                                             
     get      check the argument content           yexec_proc__unit            "argv"         , 2                                                                                    s_equal     PROC argv   ( 2) :  0[]                                                                              
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       attempt to parse a null                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   NULL                                                                                                  i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     command line string was unparsable                                                                   

   COND       do a parse on a complex line                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "khronos @a @@inpt --file \"cronfile.test\""                                                          i_equal     0                                                                                                    
     get      check the argument count             yexec_proc__unit            "argc"         , 0                                                                                    s_equal     PROC argc        : 5                                                                                 
     get      check the argument content           yexec_proc__unit            "argv"         , 0                                                                                    s_equal     PROC argv   ( 0) :  7[khronos]                                                                       
     get      check the argument content           yexec_proc__unit            "argv"         , 1                                                                                    s_equal     PROC argv   ( 1) :  2[@a]                                                                            
     get      check the argument content           yexec_proc__unit            "argv"         , 2                                                                                    s_equal     PROC argv   ( 2) :  6[@@inpt]                                                                        
     get      check the argument content           yexec_proc__unit            "argv"         , 3                                                                                    s_equal     PROC argv   ( 3) :  6[--file]                                                                        
     get      check the argument content           yexec_proc__unit            "argv"         , 4                                                                                    s_equal     PROC argv   ( 4) : 15[\"cronfile.test\"]                                                             
     get      check the argument content           yexec_proc__unit            "argv"         , 5                                                                                    s_equal     PROC argv   ( 5) :  0[]                                                                              
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       verify same program with path                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/usr/sbin/khronos @a @@inpt --file \"cronfile.test\""                                                i_equal     0                                                                                                    
     get      check the argument count             yexec_proc__unit            "argc"         , 0                                                                                    s_equal     PROC argc        : 5                                                                                 
     get      check the argument content           yexec_proc__unit            "argv"         , 0                                                                                    s_equal     PROC argv   ( 0) : 17[/usr/sbin/khronos]                                                             
     get      check the argument content           yexec_proc__unit            "argv"         , 1                                                                                    s_equal     PROC argv   ( 1) :  2[@a]                                                                            
     get      check the argument content           yexec_proc__unit            "argv"         , 2                                                                                    s_equal     PROC argv   ( 2) :  6[@@inpt]                                                                        
     get      check the argument content           yexec_proc__unit            "argv"         , 3                                                                                    s_equal     PROC argv   ( 3) :  6[--file]                                                                        
     get      check the argument content           yexec_proc__unit            "argv"         , 4                                                                                    s_equal     PROC argv   ( 4) : 15[\"cronfile.test\"]                                                             
     get      check the argument content           yexec_proc__unit            "argv"         , 5                                                                                    s_equal     PROC argv   ( 5) :  0[]                                                                              
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       do a parse on a short argument                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/bin/sleep 3"                                                                                        i_equal     0                                                                                                    
     get      check the argument count             yexec_proc__unit            "argc"         , 0                                                                                    s_equal     PROC argc        : 2                                                                                 
     get      check the argument content           yexec_proc__unit            "argv"         , 0                                                                                    s_equal     PROC argv   ( 0) : 10[/bin/sleep]                                                                    
     get      check the argument content           yexec_proc__unit            "argv"         , 1                                                                                    s_equal     PROC argv   ( 1) :  1[3]                                                                             
     get      check the argument content           yexec_proc__unit            "argv"         , 2                                                                                    s_equal     PROC argv   ( 2) :  0[]                                                                              
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       do a parse on a complex line                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "khronos @a @@inpt --file \"cronfile.test\""                                                          i_equal     0                                                                                                    
     get      check the argument count             yexec_proc__unit            "argc"         , 0                                                                                    s_equal     PROC argc        : 5                                                                                 
     get      check the argument content           yexec_proc__unit            "argv"         , 0                                                                                    s_equal     PROC argv   ( 0) :  7[khronos]                                                                       
     get      check the argument content           yexec_proc__unit            "argv"         , 1                                                                                    s_equal     PROC argv   ( 1) :  2[@a]                                                                            
     get      check the argument content           yexec_proc__unit            "argv"         , 2                                                                                    s_equal     PROC argv   ( 2) :  6[@@inpt]                                                                        
     get      check the argument content           yexec_proc__unit            "argv"         , 3                                                                                    s_equal     PROC argv   ( 3) :  6[--file]                                                                        
     get      check the argument content           yexec_proc__unit            "argv"         , 4                                                                                    s_equal     PROC argv   ( 4) : 15[\"cronfile.test\"]                                                             
     get      check the argument content           yexec_proc__unit            "argv"         , 5                                                                                    s_equal     PROC argv   ( 5) :  0[]                                                                              
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       verify same program with path                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/usr/sbin/khronos @a @@inpt --file \"cronfile.test\""                                                i_equal     0                                                                                                    
     get      check the argument count             yexec_proc__unit            "argc"         , 0                                                                                    s_equal     PROC argc        : 5                                                                                 
     get      check the argument content           yexec_proc__unit            "argv"         , 0                                                                                    s_equal     PROC argv   ( 0) : 17[/usr/sbin/khronos]                                                             
     get      check the argument content           yexec_proc__unit            "argv"         , 1                                                                                    s_equal     PROC argv   ( 1) :  2[@a]                                                                            
     get      check the argument content           yexec_proc__unit            "argv"         , 2                                                                                    s_equal     PROC argv   ( 2) :  6[@@inpt]                                                                        
     get      check the argument content           yexec_proc__unit            "argv"         , 3                                                                                    s_equal     PROC argv   ( 3) :  6[--file]                                                                        
     get      check the argument content           yexec_proc__unit            "argv"         , 4                                                                                    s_equal     PROC argv   ( 4) : 15[\"cronfile.test\"]                                                             
     get      check the argument content           yexec_proc__unit            "argv"         , 5                                                                                    s_equal     PROC argv   ( 5) :  0[]                                                                              
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       verify a debug version of same program                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/usr/sbin/khronos_debug @a @@inpt --file \"cronfile.test\""                                          i_equal     0                                                                                                    
     get      check the argument count             yexec_proc__unit            "argc"         , 0                                                                                    s_equal     PROC argc        : 5                                                                                 
     get      check the argument content           yexec_proc__unit            "argv"         , 0                                                                                    s_equal     PROC argv   ( 0) : 23[/usr/sbin/khronos_debug]                                                       
     get      check the argument content           yexec_proc__unit            "argv"         , 1                                                                                    s_equal     PROC argv   ( 1) :  2[@a]                                                                            
     get      check the argument content           yexec_proc__unit            "argv"         , 2                                                                                    s_equal     PROC argv   ( 2) :  6[@@inpt]                                                                        
     get      check the argument content           yexec_proc__unit            "argv"         , 3                                                                                    s_equal     PROC argv   ( 3) :  6[--file]                                                                        
     get      check the argument content           yexec_proc__unit            "argv"         , 4                                                                                    s_equal     PROC argv   ( 4) : 15[\"cronfile.test\"]                                                             
     get      check the argument content           yexec_proc__unit            "argv"         , 5                                                                                    s_equal     PROC argv   ( 5) :  0[]                                                                              
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       do a parse on a string with spaces                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/usr/bin/local/test \"frida may\" 5 --dose"                                                          i_equal     0                                                                                                    
     get      check the argument count             yexec_proc__unit            "argc"         , 0                                                                                    s_equal     PROC argc        : 4                                                                                 
     get      check the argument content           yexec_proc__unit            "argv"         , 0                                                                                    s_equal     PROC argv   ( 0) : 19[/usr/bin/local/test]                                                           
     get      check the argument content           yexec_proc__unit            "argv"         , 1                                                                                    s_equal     PROC argv   ( 1) : 11[\"frida may\"]                                                                 
     get      check the argument content           yexec_proc__unit            "argv"         , 2                                                                                    s_equal     PROC argv   ( 2) :  1[5]                                                                             
     get      check the argument content           yexec_proc__unit            "argv"         , 3                                                                                    s_equal     PROC argv   ( 3) :  6[--dose]                                                                        
     get      check the argument content           yexec_proc__unit            "argv"         , 4                                                                                    s_equal     PROC argv   ( 4) :  0[]                                                                              
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       do a parse on a string with char literal                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/usr/sbin/junk -d=' '"                                                                               i_equal     00                                                                                                   
     get      check the argument count             yexec_proc__unit            "argc"         , 0                                                                                    s_equal     PROC argc        : 2                                                                                 
     get      check the argument content           yexec_proc__unit            "argv"         , 0                                                                                    s_equal     PROC argv   ( 0) : 14[/usr/sbin/junk]                                                                
     get      check the argument content           yexec_proc__unit            "argv"         , 1                                                                                    s_equal     PROC argv   ( 1) :  6[-d=' ']                                                                        
     get      check the argument content           yexec_proc__unit            "argv"         , 2                                                                                    s_equal     PROC argv   ( 2) :  0[]                                                                              
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       do a parse on a string with imbedded single quotes                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "khronos \"test ' ' and more\" --dose"                                                                i_equal     0                                                                                                    
     get      check the argument count             yexec_proc__unit            "argc"         , 0                                                                                    s_equal     PROC argc        : 3                                                                                 
     get      check the argument content           yexec_proc__unit            "argv"         , 0                                                                                    s_equal     PROC argv   ( 0) :  7[khronos]                                                                       
     get      check the argument content           yexec_proc__unit            "argv"         , 1                                                                                    s_equal     PROC argv   ( 1) : 19[\"test ' ' and more\"]                                                         
     get      check the argument content           yexec_proc__unit            "argv"         , 2                                                                                    s_equal     PROC argv   ( 2) :  6[--dose]                                                                        
     get      check the argument content           yexec_proc__unit            "argv"         , 3                                                                                    s_equal     PROC argv   ( 3) :  0[]                                                                              
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       parse same command with path                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.013))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/usr/sbin/khronos \"test ' ' and more\" --dose"                                                      i_equal     0                                                                                                    
     get      check the argument count             yexec_proc__unit            "argc"         , 0                                                                                    s_equal     PROC argc        : 3                                                                                 
     get      check the argument content           yexec_proc__unit            "argv"         , 0                                                                                    s_equal     PROC argv   ( 0) : 17[/usr/sbin/khronos]                                                             
     get      check the argument content           yexec_proc__unit            "argv"         , 1                                                                                    s_equal     PROC argv   ( 1) : 19[\"test ' ' and more\"]                                                         
     get      check the argument content           yexec_proc__unit            "argv"         , 2                                                                                    s_equal     PROC argv   ( 2) :  6[--dose]                                                                        
     get      check the argument content           yexec_proc__unit            "argv"         , 3                                                                                    s_equal     PROC argv   ( 3) :  0[]                                                                              
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       do a parse on a string with char literal of double quote           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.014))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/usr/sbin/junk -d='\"'"                                                                              i_equal     0                                                                                                    
     get      check the argument count             yexec_proc__unit            "argc"         , 0                                                                                    s_equal     PROC argc        : 2                                                                                 
     get      check the argument content           yexec_proc__unit            "argv"         , 0                                                                                    s_equal     PROC argv   ( 0) : 14[/usr/sbin/junk]                                                                
     get      check the argument content           yexec_proc__unit            "argv"         , 1                                                                                    s_equal     PROC argv   ( 1) :  6[-d='\"']                                                                       
     get      check the argument content           yexec_proc__unit            "argv"         , 2                                                                                    s_equal     PROC argv   ( 2) :  0[]                                                                              
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       do a parse with direct exception marker                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.015))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "!/bin/sleep 3"                                                                                       i_equal     0                                                                                                    
     get      check the argument count             yexec_proc__unit            "argc"         , 0                                                                                    s_equal     PROC argc        : 2                                                                                 
     get      check the argument content           yexec_proc__unit            "argv"         , 0                                                                                    s_equal     PROC argv   ( 0) : 11[!/bin/sleep]                                                                   
     get      check the argument content           yexec_proc__unit            "argv"         , 1                                                                                    s_equal     PROC argv   ( 1) :  1[3]                                                                             
     get      check the argument content           yexec_proc__unit            "argv"         , 2                                                                                    s_equal     PROC argv   ( 2) :  0[]                                                                              
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.016))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yexec__unit_end                                                                                                                   i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (PROC) verify a command exists and is executable                    0s  command         yexec__command                                                               ((02.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yexec__unit_quiet                                                                                                                 i_equal     0                                                                                                    

   COND       check a short command                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/bin/sleep 3"                                                                                        i_equal     0                                                                                                    
     exec     check executable                     yexec__command                                                                                                                    i_equal     0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       attempt a non-existant command                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/bin/sleepy 3"                                                                                       i_equal     0                                                                                                    
     exec     check executable                     yexec__command                                                                                                                    i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     executable reference can not be found on filesystem                                                  

   COND       attempt a command without a path                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "khronos \"test ' ' and more\" --dose"                                                                i_equal     0                                                                                                    
     exec     check executable                     yexec__command                                                                                                                    i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     executable reference can not be found on filesystem                                                  

   COND       check same command with path                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/usr/sbin/khronos \"test ' ' and more\" --dose"                                                      i_equal     0                                                                                                    
     exec     check executable                     yexec__command                                                                                                                    i_equal     0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       check debug version of same command with path                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/usr/sbin/khronos_debug \"test ' ' and more\" --dose"                                                i_equal     0                                                                                                    
     exec     check executable                     yexec__command                                                                                                                    i_equal     0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       attempt a regular file without execution permission                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/etc/fstab"                                                                                          i_equal     0                                                                                                    
     exec     check executable                     yexec__command                                                                                                                    i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     executable references a file without execute permissions                                             

   COND       attempt a directory                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/etc"                                                                                                i_equal     0                                                                                                    
     exec     check executable                     yexec__command                                                                                                                    i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     executable references a directory, not a regular file                                                

   COND       attempt a character device                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/dev/tty0"                                                                                           i_equal     0                                                                                                    
     exec     check executable                     yexec__command                                                                                                                    i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     executable references a non-regular file (not allowed)                                               

   COND       attempt a symbolic link                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/etc/mtab"                                                                                           i_equal     0                                                                                                    
     exec     check executable                     yexec__command                                                                                                                    i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     executable references a symbolic link (security risk)                                                

   COND       verify demanding a symbolic link                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "@/etc/mtab"                                                                                          i_equal     0                                                                                                    
     exec     check executable                     yexec__command                                                                                                                    i_equal     0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       attempt demanding a symbolic link on regular file                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "@/bin/sleep 3"                                                                                       i_equal     0                                                                                                    
     exec     check executable                     yexec__command                                                                                                                    i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     requested symlink, but pointing to a regular file                                                    

   COND       attempt demanding a symbolic link on device                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.013))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "@/dev/tty0"                                                                                          i_equal     0                                                                                                    
     exec     check executable                     yexec__command                                                                                                                    i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     requested symlink, but file is not a symlink                                                         

   COND       attempt a regular file without execution permission                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.014))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/etc/eos.conf"                                                                                       i_equal     0                                                                                                    
     exec     check executable                     yexec__command                                                                                                                    i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     executable references a file without execute permissions                                             

   COND       check command well off path                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.015))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "!/usr/lib/sa/sa1"                                                                                    i_equal     0                                                                                                    
     exec     check executable                     yexec__command                                                                                                                    i_equal     0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.016))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yexec__unit_end                                                                                                                   i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (PROC) verify a command is on current path                          0s  onpath          yexec__onpath                                                                ((03.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yexec__unit_quiet                                                                                                                 i_equal     0                                                                                                    

   COND       reset s_direct flag by running yexec__command to default           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/bin/sleep 3"                                                                                        i_equal     0                                                                                                    
     exec     check executable                     yexec__command                                                                                                                    i_equal     0                                                                                                    

   COND       check a short command                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/bin/sleep 3"                                                                                        i_equal     0                                                                                                    
     exec     set path                             yexec__setpath              YEXEC_TIGHT                                                                                           i_equal     0                                                                                                    
     exec     check path                           yexec__onpath                                                                                                                     i_equal     0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          
     exec     set path                             yexec__setpath              YEXEC_FULL                                                                                            i_equal     0                                                                                                    
     exec     check path                           yexec__onpath                                                                                                                     i_equal     0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       attempt a file without a path                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "khronos \"test ' ' and more\" --dose"                                                                i_equal     0                                                                                                    
     exec     set path                             yexec__setpath              YEXEC_TIGHT                                                                                           i_equal     0                                                                                                    
     exec     check path                           yexec__onpath                                                                                                                     i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     executable does not include an absolute path (security risk)                                         
     exec     set path                             yexec__setpath              YEXEC_FULL                                                                                            i_equal     0                                                                                                    
     exec     check path                           yexec__onpath                                                                                                                     i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     executable does not include an absolute path (security risk)                                         

   COND       verify same file with a path                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/usr/sbin/khronos \"test ' ' and more\" --dose"                                                      i_equal     0                                                                                                    
     exec     set path                             yexec__setpath              YEXEC_TIGHT                                                                                           i_equal     0                                                                                                    
     exec     check path                           yexec__onpath                                                                                                                     i_equal     0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          
     exec     set path                             yexec__setpath              YEXEC_FULL                                                                                            i_equal     0                                                                                                    
     exec     check path                           yexec__onpath                                                                                                                     i_equal     0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       attempt a file off path                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/etc/fstab"                                                                                          i_equal     0                                                                                                    
     exec     set path                             yexec__setpath              YEXEC_TIGHT                                                                                           i_equal     0                                                                                                    
     exec     check path                           yexec__onpath                                                                                                                     i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     executable path not within requested environment path (security risk)                                
     exec     set path                             yexec__setpath              YEXEC_FULL                                                                                            i_equal     0                                                                                                    
     exec     check path                           yexec__onpath                                                                                                                     i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     executable path not within requested environment path (security risk)                                

   COND       verify file on extended path only                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "/usr/local/bin/unit_daemon"                                                                          i_equal     0                                                                                                    
     exec     set path                             yexec__setpath              YEXEC_TIGHT                                                                                           i_equal     0                                                                                                    
     exec     check path                           yexec__onpath                                                                                                                     i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     executable path not within requested environment path (security risk)                                
     exec     set path                             yexec__setpath              YEXEC_FULL                                                                                            i_equal     0                                                                                                    
     exec     check path                           yexec__onpath                                                                                                                     i_equal     0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       verify exception file avoids path check                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse arguments from string          yexec_arg                   "!/usr/lib/sa/sa1"                                                                                    i_equal     0                                                                                                    
     exec     check executable (to set flags)      yexec__command                                                                                                                    i_equal     0                                                                                                    
     exec     set path                             yexec__setpath              YEXEC_TIGHT                                                                                           i_equal     0                                                                                                    
     exec     check path                           yexec__onpath                                                                                                                     i_equal     0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          
     exec     set path                             yexec__setpath              YEXEC_FULL                                                                                            i_equal     0                                                                                                    
     exec     check path                           yexec__onpath                                                                                                                     i_equal     0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yexec__unit_end                                                                                                                   i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (PROC) verify a potential command at runable/executable             0s  runnable        yEXEC_runable                                                                ((04.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yexec__unit_quiet                                                                                                                 i_equal     0                                                                                                    

   COND       verify a command is able to run                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call runable                         yEXEC_runable               "testing" , "root"    , "/bin/true"                 , YEXEC_FULL                                      i_equal     0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       attempt some bad titles                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call null title                      yEXEC_runable               NULL      , "root"    , "/bin/true"                 , YEXEC_FULL                                      i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     run-time title provided is null/empty (not allowed)                                                  

   COND       attempt some bad users                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call null user                       yEXEC_runable               "testing" , NULL      , "/bin/true"                 , YEXEC_FULL                                      i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     run-time user null/empty is not registered (not allowed)                                             
     exec     call non-existant user               yEXEC_runable               "testing" , "jojo"    , "/bin/true"                 , YEXEC_FULL                                      i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     run-time user jojo is not registered (not allowed)                                                   

   COND       attempt some bad commands                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call null command                    yEXEC_runable               "testing" , "root"    , NULL                        , YEXEC_FULL                                      i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     command string provided is null/empty (not allowed)                                                  
     exec     call empty command                   yEXEC_runable               "testing" , "root"    , ""                          , YEXEC_FULL                                      i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     command string provided is null/empty (not allowed)                                                  
     exec     call non-existant command            yEXEC_runable               "testing" , "root"    , "/bin/fiddlesticks"         , YEXEC_FULL                                      i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     executable reference can not be found on filesystem                                                  

   COND       attempt some bad paths                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call good command without path       yEXEC_runable               "testing" , "root"    , "true"                      , YEXEC_FULL                                      i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     executable reference can not be found on filesystem                                                  
     exec     call good command on root            yEXEC_runable               "testing" , "root"    , "/true"                     , YEXEC_FULL                                      i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     executable reference can not be found on filesystem                                                  
     exec     call good command outside path       yEXEC_runable               "testing" , "root"    , "/usr/local/bin/p"          , YEXEC_TIGHT                                     i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     executable path not within requested environment path (security risk)                                
     exec     call good command now on path        yEXEC_runable               "testing" , "root"    , "/usr/local/bin/p"          , YEXEC_FULL                                      i_equal     0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       check another good command                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call command run                     yEXEC_runable               "testing" , "root"    , "/bin/sleep 10"             , YEXEC_FULL                                      i_equal     0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       check an exception                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call command run (unflagged)         yEXEC_runable               "testing" , "root"    , "/usr/lib/sa/sa1"           , YEXEC_FULL                                      i_lesser    0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal     executable path not within requested environment path (security risk)                                
     exec     call command run (flagged)           yEXEC_runable               "testing" , "root"    , "!/usr/lib/sa/sa1"          , YEXEC_FULL                                      i_equal     0                                                                                                    
     get      ... check error status               yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yexec__unit_end                                                                                                                   i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (PROC) verify permissions and environment on called processes       5s  run             yEXEC_full, yEXEC_run, yEXEC_quick, yEXEC_verify, yEXEC_check                ((05.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yexec__unit_quiet                                                                                                                 i_equal     0                                                                                                    
     local    create a rpid variable               - - - - - - - - - - - - -   int   x_rpid  = -1;                                                                                                                                                                                                        
     local    create a rc variable                 - - - - - - - - - - - - -   int   x_rc    =  0;                                                                                                                                                                                                        

   COND       verify a process run as root                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call command run                     yEXEC_run                   "testing" , "root"    , "/usr/local/bin/unit_daemon --whoami"                                         i_greater   0                                                                                                     x_rpid               
     system   sleep very quickly                   - - - - - - - - - - - - -   sleep 0.50                                                                                                                                                                                                                 
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_NORMAL                                                                                         
     echo     ... check new pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check environment                yexec_proc__unit            "whoami"               , 0                                                                            s_equal     PROC whoami      : main , pid  , ppid , uid  0    , who  (y) root                     
     get      ... check environment                yexec_proc__unit            "whereami"             , 0                                                                            s_equal     PROC whereami    : root          /root                                                               

   COND       verify a process run as member                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call command run                     yEXEC_run                   "testing" , "member"  , "/usr/local/bin/unit_daemon --whoami"                                         i_greater   0                                                                                                     x_rpid               
     system   sleep very quickly                   - - - - - - - - - - - - -   sleep 0.50                                                                                                                                                                                                                 
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_NORMAL                                                                                         
     echo     ... check new pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check environment                yexec_proc__unit            "whoami"               , 0                                                                            s_equal     PROC whoami      : main , pid  , ppid , uid  1000 , who  (-) member                   
     get      ... check environment                yexec_proc__unit            "whereami"             , 0                                                                            s_equal     PROC whereami    : member        /home/member                                                        

   COND       verify a process run as monkies                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     create user                          yUNIT_user_add              "monkies" , NULL      , ""                                                                            i_equal     0                                                                                                    
     exec     call command run                     yEXEC_run                   "testing" , "monkies" , "/usr/local/bin/unit_daemon --whoami"                                         i_greater   0                                                                                                     x_rpid               
     system   sleep very quickly                   - - - - - - - - - - - - -   sleep 0.50                                                                                                                                                                                                                 
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_NORMAL                                                                                         
     echo     ... check new pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check environment                yexec_proc__unit            "whoami"               , 0                                                                            s_equal     PROC whoami      : main , pid  , ppid , uid  , who  (-) monkies                  
     get      ... check environment                yexec_proc__unit            "whereami"             , 0                                                                            s_equal     PROC whereami    : monkies       /home/monkies                                                       
     exec     remove user                          yUNIT_user_del              "monkies"                                                                                             i_equal     0                                                                                                    

   COND       verify back as root                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call command run                     yEXEC_run                   "testing" , "root"    , "/usr/local/bin/unit_daemon --whoami"                                         i_greater   0                                                                                                     x_rpid               
     system   sleep very quickly                   - - - - - - - - - - - - -   sleep 0.50                                                                                                                                                                                                                 
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_NORMAL                                                                                         
     echo     ... check new pid                    - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     get      ... check environment                yexec_proc__unit            "whoami"               , 0                                                                            s_equal     PROC whoami      : main , pid  , ppid , uid  0    , who  (y) root                     
     get      ... check environment                yexec_proc__unit            "whereami"             , 0                                                                            s_equal     PROC whereami    : root          /root                                                               

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yexec__unit_end                                                                                                                   i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (PROC) verify process running and checking                         15s  verify          yEXEC_full, yEXEC_run, yEXEC_quick, yEXEC_verify, yEXEC_check                ((06.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yexec__unit_quiet                                                                                                                 i_equal     0                                                                                                    
     system   ... clear the unit log               - - - - - - - - - - - - -   rm -f /tmp/yEXEC_unit.execution_feedback                                                                                                                                                                                   
     local    create a rpid variable               - - - - - - - - - - - - -   int   x_rpid  = -1;                                                                                                                                                                                                        
     local    create a rc variable                 - - - - - - - - - - - - -   int   x_rc    =  0;                                                                                                                                                                                                        

   GROUP      normal exits                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify a nearly intantaneous process                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call command run                     yEXEC_full                  "testing" , "root"    , "/bin/true"                 , YEXEC_DASH, YEXEC_FULL, YEXEC_FORK, YEXEC_UNIT  i_greater   0                                                                                                     x_rpid               
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_RUNNING                                                                                        
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_equal     0                                                                                                    
     get      ...check user                        yexec_proc__unit            "user"                 , 0                                                                            s_equal     PROC user        :  4[root]                     0     0                                              
     get      ...check home                        yexec_proc__unit            "home"                 , 0                                                                            s_equal     PROC home        :  5[/root]                                 y                                       
     get      ...check shell                       yexec_proc__unit            "detail"               , 0                                                                            s_equal     PROC detail      :  9[/bin/dash]             79[/sbin:/bin:/usr/sbin:/usr/bin:/opt/sbin:]            
     get      ...check executable                  yexec_proc__unit            "exec"                 , 0                                                                            s_equal     PROC exec        :  9[/bin/true]                              9[/bin/true]                           
     system   sleep very quickly                   - - - - - - - - - - - - -   sleep 0.50                                                                                                                                                                                                                 
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_NORMAL                                                                                         
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_equal     0                                                                                                    

   COND       verify a process with an argument (one change only)                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call command run                     yEXEC_full                  "testing" , "root"    , "/bin/sleep 1 1"            , YEXEC_DASH, YEXEC_FULL, YEXEC_FORK, YEXEC_UNIT  i_greater   0                                                                                                     x_rpid               
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_RUNNING                                                                                        
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_equal     0                                                                                                    
     get      ...check user                        yexec_proc__unit            "user"                 , 0                                                                            s_equal     PROC user        :  4[root]                     0     0                                              
     get      ...check home                        yexec_proc__unit            "home"                 , 0                                                                            s_equal     PROC home        :  5[/root]                                 y                                       
     get      ...check shell                       yexec_proc__unit            "detail"               , 0                                                                            s_equal     PROC detail      :  9[/bin/dash]             79[/sbin:/bin:/usr/sbin:/usr/bin:/opt/sbin:]            
     get      ...check executable                  yexec_proc__unit            "exec"                 , 0                                                                            s_equal     PROC exec        : 14[/bin/sleep 1 1]                        10[/bin/sleep]                          
     system   sleep very quickly                   - - - - - - - - - - - - -   sleep 1.00                                                                                                                                                                                                                 
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_RUNNING                                                                                        
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_equal     0                                                                                                    
     system   sleep very quickly                   - - - - - - - - - - - - -   sleep 1.25                                                                                                                                                                                                                 
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_NORMAL                                                                                         
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_equal     0                                                                                                    

   COND       verify a basic process (update user and shell)                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call command run                     yEXEC_full                  "testing" , "member"  , "/bin/sleep 1"              , YEXEC_BASH, YEXEC_FULL, YEXEC_FORK, YEXEC_UNIT  i_greater   0                                                                                                     x_rpid               
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_RUNNING                                                                                        
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_equal     0                                                                                                    
     get      ...check user                        yexec_proc__unit            "user"                 , 0                                                                            s_equal     PROC user        :  6[member]                1000  1000                                              
     get      ...check home                        yexec_proc__unit            "home"                 , 0                                                                            s_equal     PROC home        : 12[/home/member]                          y                                       
     get      ...check shell                       yexec_proc__unit            "detail"               , 0                                                                            s_equal     PROC detail      :  9[/bin/bash]             79[/sbin:/bin:/usr/sbin:/usr/bin:/opt/sbin:]            
     get      ...check executable                  yexec_proc__unit            "exec"                 , 0                                                                            s_equal     PROC exec        : 12[/bin/sleep 1]                          10[/bin/sleep]                          
     system   sleep very quickly                   - - - - - - - - - - - - -   sleep 1.00                                                                                                                                                                                                                 
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_NORMAL                                                                                         
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_equal     0                                                                                                    

   COND       verify with quick interface                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call command run                     yEXEC_quick                 "/bin/sleep 2"                                                                                        i_greater   0                                                                                                     x_rpid               
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_RUNNING                                                                                        
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_equal     0                                                                                                    
     get      ...check user                        yexec_proc__unit            "user"                 , 0                                                                            s_equal     PROC user        :  4[root]                     0     0                                              
     get      ...check home                        yexec_proc__unit            "home"                 , 0                                                                            s_equal     PROC home        :  5[/root]                                 y                                       
     get      ...check shell                       yexec_proc__unit            "detail"               , 0                                                                            s_equal     PROC detail      :  9[/bin/dash]             79[/sbin:/bin:/usr/sbin:/usr/bin:/opt/sbin:]            
     get      ...check executable                  yexec_proc__unit            "exec"                 , 0                                                                            s_equal     PROC exec        : 12[/bin/sleep 2]                          10[/bin/sleep]                          
     system   sleep very quickly                   - - - - - - - - - - - - -   sleep 1.00                                                                                                                                                                                                                 
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_RUNNING                                                                                        
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_equal     0                                                                                                    
     system   sleep very quickly                   - - - - - - - - - - - - -   sleep 1.00                                                                                                                                                                                                                 
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_NORMAL                                                                                         
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_equal     0                                                                                                    

   COND       verify with run interface                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call command run                     yEXEC_run                   "sleeper" , "member"  , "/bin/sleep 1"                                                                i_greater   0                                                                                                     x_rpid               
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_RUNNING                                                                                        
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_equal     0                                                                                                    
     get      ...check user                        yexec_proc__unit            "user"                 , 0                                                                            s_equal     PROC user        :  6[member]                1000  1000                                              
     get      ...check home                        yexec_proc__unit            "home"                 , 0                                                                            s_equal     PROC home        : 12[/home/member]                          y                                       
     get      ...check shell                       yexec_proc__unit            "detail"               , 0                                                                            s_equal     PROC detail      :  9[/bin/dash]             79[/sbin:/bin:/usr/sbin:/usr/bin:/opt/sbin:]            
     get      ...check executable                  yexec_proc__unit            "exec"                 , 0                                                                            s_equal     PROC exec        : 12[/bin/sleep 1]                          10[/bin/sleep]                          
     system   sleep very quickly                   - - - - - - - - - - - - -   sleep 1.00                                                                                                                                                                                                                 
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_NORMAL                                                                                         
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_equal     0                                                                                                    

   GROUP      launch failures and defaulting                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt with bad fields                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call null title                      yEXEC_full                  NULL      , "root"    , "/bin/true"                 , YEXEC_DASH, YEXEC_FULL, YEXEC_FORK, YEXEC_UNIT  i_lesser    0                                                                                                    
     exec     call null user                       yEXEC_full                  "testing" , NULL      , "/bin/true"                 , YEXEC_DASH, YEXEC_FULL, YEXEC_FORK, YEXEC_UNIT  i_lesser    0                                                                                                    
     exec     call non-existant user               yEXEC_full                  "testing" , "jojo"    , "/bin/true"                 , YEXEC_DASH, YEXEC_FULL, YEXEC_FORK, YEXEC_UNIT  i_lesser    0                                                                                                    
     exec     call null command                    yEXEC_full                  "testing" , "root"    , NULL                        , YEXEC_DASH, YEXEC_FULL, YEXEC_FORK, YEXEC_UNIT  i_lesser    0                                                                                                    
     exec     call empty command                   yEXEC_full                  "testing" , "root"    , ""                          , YEXEC_DASH, YEXEC_FULL, YEXEC_FORK, YEXEC_UNIT  i_lesser    0                                                                                                    
     exec     call non-existant command            yEXEC_full                  "testing" , "root"    , "fiddlesticks"              , YEXEC_DASH, YEXEC_FULL, YEXEC_FORK, YEXEC_UNIT  i_lesser    0                                                                                                    
     exec     call good command without path       yEXEC_full                  "testing" , "root"    , "true"                      , YEXEC_DASH, YEXEC_FULL, YEXEC_FORK, YEXEC_UNIT  i_lesser    0                                                                                                    

   COND       run a longer command (with bad shell, so default)                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call command run                     yEXEC_full                  "testing" , "root"    , "/bin/sleep 10"             , NULL      , YEXEC_FULL, YEXEC_FORK, YEXEC_UNIT  i_greater   0                                                                                                     x_rpid               
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_RUNNING                                                                                        
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_equal     0                                                                                                    
     get      ...check user                        yexec_proc__unit            "user"                 , 0                                                                            s_equal     PROC user        :  4[root]                     0     0                                              
     get      ...check home                        yexec_proc__unit            "home"                 , 0                                                                            s_equal     PROC home        :  5[/root]                                 y                                       
     get      ...check shell                       yexec_proc__unit            "detail"               , 0                                                                            s_equal     PROC detail      :  9[/bin/dash]             79[/sbin:/bin:/usr/sbin:/usr/bin:/opt/sbin:]            
     get      ...check executable                  yexec_proc__unit            "exec"                 , 0                                                                            s_equal     PROC exec        : 13[/bin/sleep 10]                         10[/bin/sleep]                          
     code     send the kill                        - - - - - - - - - - - - -   kill (x_rpid, SIGKILL);                                                                                                                                                                                                    
     system   sleep very quickly                   - - - - - - - - - - - - -   sleep 0.25                                                                                                                                                                                                                 
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_KILLED                                                                                         
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_greater   0                                                                                                    

   COND       run a another longer command (with a bad path, so default)         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call command run                     yEXEC_full                  "testing" , "root"    , "/bin/sleep 10"             , YEXEC_DASH, NULL      , YEXEC_FORK, YEXEC_UNIT  i_greater   0                                                                                                     x_rpid               
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_RUNNING                                                                                        
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_equal     0                                                                                                    
     get      ...check user                        yexec_proc__unit            "user"                 , 0                                                                            s_equal     PROC user        :  4[root]                     0     0                                              
     get      ...check home                        yexec_proc__unit            "home"                 , 0                                                                            s_equal     PROC home        :  5[/root]                                 y                                       
     get      ...check shell                       yexec_proc__unit            "detail"               , 0                                                                            s_equal     PROC detail      :  9[/bin/dash]             29[/sbin:/bin:/usr/sbin:/usr/bin]                       
     get      ...check executable                  yexec_proc__unit            "exec"                 , 0                                                                            s_equal     PROC exec        : 13[/bin/sleep 10]                         10[/bin/sleep]                          
     code     send the kill                        - - - - - - - - - - - - -   kill (x_rpid, SIGSEGV);                                                                                                                                                                                                    
     system   sleep very quickly                   - - - - - - - - - - - - -   sleep 0.25                                                                                                                                                                                                                 
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_SEGV                                                                                           
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_greater   0                                                                                                    

   GROUP      detecting troubles                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       run a command with error exit                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call command run                     yEXEC_full                  "testing" , "root"    , "/usr/local/bin/unit_daemon --badrc", YEXEC_DASH, YEXEC_FULL, YEXEC_FORK, YEXEC_UNIT  i_greater   0                                                                                                     x_rpid               
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_RUNNING                                                                                        
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_equal     0                                                                                                    
     get      ...check user                        yexec_proc__unit            "user"                 , 0                                                                            s_equal     PROC user        :  4[root]                     0     0                                              
     get      ...check home                        yexec_proc__unit            "home"                 , 0                                                                            s_equal     PROC home        :  5[/root]                                 y                                       
     get      ...check shell                       yexec_proc__unit            "detail"               , 0                                                                            s_equal     PROC detail      :  9[/bin/dash]             79[/sbin:/bin:/usr/sbin:/usr/bin:/opt/sbin:]            
     get      ...check executable                  yexec_proc__unit            "exec"                 , 0                                                                            s_equal     PROC exec        : 34[/usr/local/bin/unit_daemon --badrc]    26[/usr/local/bin/unit_daemon]          
     system   sleep very quickly                   - - - - - - - - - - - - -   sleep 1.00                                                                                                                                                                                                                 
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_FAILURE                                                                                        
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_lesser    0                                                                                                    

   COND       run a daemon (shows normal while still running)                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call command run                     yEXEC_full                  "testing" , "root"    , "/usr/local/bin/unit_daemon"        , YEXEC_DASH, YEXEC_FULL, YEXEC_FORK, YEXEC_UNIT  i_greater   0                                                                                                     x_rpid               
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_RUNNING                                                                                        
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_equal     0                                                                                                    
     get      ...check user                        yexec_proc__unit            "user"                 , 0                                                                            s_equal     PROC user        :  4[root]                     0     0                                              
     get      ...check home                        yexec_proc__unit            "home"                 , 0                                                                            s_equal     PROC home        :  5[/root]                                 y                                       
     get      ...check shell                       yexec_proc__unit            "detail"               , 0                                                                            s_equal     PROC detail      :  9[/bin/dash]             79[/sbin:/bin:/usr/sbin:/usr/bin:/opt/sbin:]            
     get      ...check executable                  yexec_proc__unit            "exec"                 , 0                                                                            s_equal     PROC exec        : 26[/usr/local/bin/unit_daemon]            26[/usr/local/bin/unit_daemon]          
     system   sleep very quickly                   - - - - - - - - - - - - -   sleep 1.00                                                                                                                                                                                                                 
     exec     ...check its status                  yEXEC_verify                "testing" , x_rpid    , &x_rc     , NULL                                                              i_equal     YEXEC_NORMAL                                                                                         
     echo     ...check return code                 - - - - - - - - - - - - -   x_rc                                                                                                  i_equal     0                                                                                                    
     system   sleep to run out the clock           - - - - - - - - - - - - -   sleep 1.00                                                                                                                                                                                                                 

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     ... clear the unit log               - - - - - - - - - - - - -   system ("rm -f /tmp/yEXEC_unit.execution_feedback");                                                                                                                                                                       
     exec     wrap up                              yexec__unit_end                                                                                                                   i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (PROC) verify process finding                                      10s  find            yEXEC_find                                                                   ((06.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                yexec__unit_quiet                                                                                                                 i_equal     0                                                                                                    
     local    create a rpid variable               - - - - - - - - - - - - -   int   x_rpid  = -1;                                                                                                                                                                                                        
     local    create a rpid variable               - - - - - - - - - - - - -   int   x_orig  = -1;                                                                                                                                                                                                        
     local    create working variable              - - - - - - - - - - - - -   char  x_pubname [LEN_TITLE] = "";                                                                                                                                                                                          
     local    create a rpid variable               - - - - - - - - - - - - -   int   x_found = -1;                                                                                                                                                                                                        

   COND       verify a quick success                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call find                            yEXEC_find                  "kharon"              , &x_rpid                                                                       i_equal     1                                                                                                    
     echo     ... check rpid                       - - - - - - - - - - - - -   x_rpid                                                                                                i_equal     1                                                                                                    
     exec     gather the name                      yexec_data__pubname         x_rpid     , '-', x_pubname                                                                           i_equal     0                                                                                                    
     echo     ... check result                     - - - - - - - - - - - - -   x_pubname                                                                                             w_equal     kharon                                                                                             

   COND       attempt a never-match name                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call find                            yEXEC_find                  "YYYYYYYYY"           , &x_rpid                                                                       i_equal     0                                                                                                    
     echo     ... check rpid                       - - - - - - - - - - - - -   x_rpid                                                                                                i_equal     -1                                                                                                   

   COND       verify catching the unit daemon (as child)                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call command run                     yEXEC_run                   "unit"    , "root"    , "/usr/local/bin/unit_daemon --nodaemon --2s"                                  i_greater   0                                                                                                     x_rpid               
     system   sleep to run out the clock           - - - - - - - - - - - - -   sleep 1.00                                                                                                                                                                                                                 
     exec     call find                            yEXEC_find                  "unit_daemon"         , &x_rpid                                                                       i_equal     1                                                                                                    
     echo     ... check rpid                       - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     exec     gather the name                      yexec_data__pubname         x_rpid     , '-', x_pubname                                                                           i_equal     0                                                                                                    
     echo     ... check result                     - - - - - - - - - - - - -   x_pubname                                                                                             w_equal     unit_daemon                                                                                        
     system   sleep to run out the clock           - - - - - - - - - - - - -   sleep 1.00                                                                                                                                                                                                                 

   COND       verify catching the unit daemon (as daemon)                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call command run                     yEXEC_run                   "unit"    , "root"    , "/usr/local/bin/unit_daemon --2s"                                             i_greater   0                                                                                                     x_rpid               
     system   sleep to run out the clock           - - - - - - - - - - - - -   sleep 1.00                                                                                                                                                                                                                 
     exec     call find                            yEXEC_find                  "unit_daemon"         , &x_rpid                                                                       i_equal     1                                                                                                    
     echo     ... check rpid                       - - - - - - - - - - - - -   x_rpid                                                                                                i_greater   0                                                                                                    
     exec     gather the name                      yexec_data__pubname         x_rpid     , '-', x_pubname                                                                           i_equal     0                                                                                                    
     echo     ... check result                     - - - - - - - - - - - - -   x_pubname                                                                                             w_equal     unit_daemon                                                                                        
     system   sleep to run out the clock           - - - - - - - - - - - - -   sleep 1.00                                                                                                                                                                                                                 

   COND       verify catching a duplicate                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     system   sleep to run out the clock           - - - - - - - - - - - - -   sleep 1.00                                                                                                                                                                                                                 
     exec     call command run                     yEXEC_run                   "unit"    , "root"    , "/usr/local/bin/unit_daemon --nodaemon --2s"                                  i_greater   0                                                                                                     x_orig               
     exec     call command run                     yEXEC_run                   "unit"    , "root"    , "/usr/local/bin/unit_daemon --nodaemon --2s"                                  i_greater   0                                                                                                     x_rpid               
     system   sleep to run out the clock           - - - - - - - - - - - - -   sleep 1.00                                                                                                                                                                                                                 
     exec     call find (see both)                 yEXEC_find                  "unit_daemon"         , NULL                                                                          i_equal     2                                                                                                    
     exec     call find                            yEXEC_duplicate             "unit_daemon"         , x_orig       , &x_found                                                       i_equal     1                                                                                                    
     echo     ... check rpid                       - - - - - - - - - - - - -   x_found                                                                                               i_equal     [[ x_rpid ]]                                                                                         
     exec     call find                            yEXEC_duplicate             "unit_daemon"         , x_rpid       , &x_found                                                       i_equal     1                                                                                                    
     echo     ... check rpid                       - - - - - - - - - - - - -   x_found                                                                                               i_equal     [[ x_orig ]]                                                                                         
     system   sleep to run out the clock           - - - - - - - - - - - - -   sleep 1.00                                                                                                                                                                                                                 

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              yexec__unit_end                                                                                                                   i_equal     0                                                                                                    



# end-of-file.  done, finito, completare, whimper [
